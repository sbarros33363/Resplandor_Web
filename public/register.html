<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Esplendor - Registro</title>
    <link rel="icon" href="imagenes/Logos/logoh.jpg" type="image/x-icon">
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</head>
<body>
    <header>
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <div class="container-fluid">
                <a class="navbar-brand" href="PaginaPrincipal.html">
                    <img src="imagenes/Logos/logo.jpg" alt="Esplendor" style="height: 40px;">
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav me-auto">
                        <li class="nav-item"><a class="nav-link border-bottom border-warning" href="PaginaPrincipal.html">Página Principal</a></li>
                        <li class="nav-item"><a class="nav-link border-bottom border-warning" href="Iniciosesion.html">Iniciar sesión</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    
    <main class="container mt-4">
        <h2 class="text-center text-warning">Registro de Usuario</h2>
        <form id="formRegistro">
            <div class="mb-3">
                <label for="nombre" class="form-label">Nombre</label>
                <input type="text" class="form-control" id="nombre" placeholder="Ingrese su nombre" required>
            </div>
            <div class="mb-3">
                <label for="apellidos" class="form-label">Apellidos</label>
                <input type="text" class="form-control" id="apellidos" placeholder="Ingrese sus apellidos" required>
            </div>
            <div class="mb-3">
                <label for="email" class="form-label">Correo electrónico</label>
                <input type="email" class="form-control" id="email" placeholder="Ingrese su correo" required>
            </div>
            <div class="mb-3">
                <label for="contraseña" class="form-label">Contraseña</label>
                <input type="password" class="form-control" id="contraseña" placeholder="Ingrese su contraseña" required>
            </div>
            <div class="mb-3">
                <label for="direccion" class="form-label">Dirección de entrega</label>
                <input type="text" class="form-control" id="direccion" placeholder="Ingrese la dirección para el envío" required>
            </div>
            <button type="submit" class="btn btn-warning w-100">Registrar</button>
        </form>
        <p class="text-center mt-3">¿Ya tienes una cuenta? <a href="Iniciosesion.html" class="text-warning">Iniciar sesión</a></p>
    </main>

    <footer class="bg-light text-dark py-4 mt-4">
        <div class="container">
            <p class="text-center">📞 3124567674 | 📧 almacendeplateria@hotmail.com</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Script para manejar el formulario de registro -->
    <script>
document.getElementById("formRegistro").addEventListener("submit", function(event) {
    event.preventDefault(); // Prevenir el envío del formulario de forma tradicional

    // Obtener los valores del formulario
    const nombre = document.getElementById("nombre").value;
    const apellidos = document.getElementById("apellidos").value;
    const email = document.getElementById("email").value;
    const contraseña = document.getElementById("contraseña").value;
    const direccion = document.getElementById("direccion").value;

    // Crear un objeto con los datos del formulario
    const userData = {
        nombre: nombre,
        apellidos: apellidos,
        email: email,
        contraseña: contraseña,
        direccion: direccion
    };

    // Enviar los datos al servidor usando fetch
    fetch('http://localhost:3000/registro', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify(userData)  // Convertir los datos a formato JSON
    })
    .then(response => {
        if (response.ok) {
            alert("¡Registro exitoso! Bienvenido.");
            // Redirigir al usuario a la página de inicio de sesión o a otra página
            window.location.href = "Iniciosesion.html";
        } else {
            alert("Error al registrar el usuario.");
        }
    })
    .catch(error => {
        console.error('Error:', error);
        alert("Hubo un problema con el registro.");
    });
});
    </script>
</body>
</html>

